<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Budget Split Calculator</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
            background-image:
                radial-gradient(at 20% 80%, hsla(260, 50%, 30%, 0.2) 0px, transparent 50%),
                radial-gradient(at 80% 10%, hsla(210, 45%, 40%, 0.25) 0px, transparent 50%),
                linear-gradient(to bottom right, #111827, #131b31, #111827);
        }
        .btn-active {
            background-color: #f59e0b; color: #111827; border-color: #f59e0b;
        }
        .premium-input {
            background-color: rgba(17, 24, 39, 0.5); border-color: rgba(255, 255, 255, 0.1); color: #f1f5f9;
        }
        .premium-input::placeholder { color: #64748b; }
        .premium-input:focus {
             border-color: #f59e0b; box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.4);
        }
        .chart-container { position: relative; height: 280px; width: 280px; }
        .explanation-content { transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; }
    </style>
</head>
<body class="text-slate-300">

    <div class="container mx-auto max-w-4xl p-4 sm:p-6 md:p-8 min-h-screen flex flex-col justify-center">

        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-slate-100 to-slate-400">Find the Perfect Budgeting System for You</h1>
            <p class="text-lg text-slate-400 mt-2">Enter your income to instantly see your personalized budget breakdown.</p>
        </header>

        <main class="bg-slate-900/60 backdrop-blur-xl p-6 sm:p-8 rounded-2xl shadow-2xl border border-white/10">

            <section id="income-section">
                <label for="income" class="block text-lg font-semibold mb-2 text-slate-200">Enter Your Income</label>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="income" placeholder="e.g., 50000" class="flex-grow w-full text-lg p-3 border rounded-lg transition duration-200 outline-none premium-input">
                    <div class="flex bg-slate-800/80 p-1 rounded-lg border border-white/5">
                        <button id="monthly-btn" class="w-full sm:w-auto px-4 py-2 rounded-md text-sm font-medium transition-colors btn-active">Monthly</button>
                        <button id="annual-btn" class="w-full sm:w-auto px-4 py-2 rounded-md text-sm font-medium transition-colors text-slate-300">Annual</button>
                    </div>
                </div>
            </section>

            <section id="system-selector" class="mt-8">
                 <h2 class="text-lg font-semibold mb-3 text-slate-200">Choose Your Budgeting Method</h2>
                 <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3">
                     <button data-system="50-30-20" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500 btn-active">50/30/20 Rule</button>
                     <button data-system="80-20" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">80/20 Method</button>
                     <button data-system="envelope" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">Envelope System</button>
                     <button data-system="zero-based" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">Zero-Based</button>
                     <button data-system="kiko" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">Kiko's System</button>
                 </div>
            </section>
            
            <section id="explanation-section" class="mt-6 p-5 bg-slate-800/50 rounded-lg border border-white/10">
                <div class="explanation-content" data-system="50-30-20">
                    <h4 class="font-bold text-lg text-slate-100">The 50/30/20 Rule</h4>
                    <p class="text-slate-300 mt-1">This method provides a balanced framework by splitting income into three categories: 50% for Needs, 30% for Wants, and 20% for Savings & Investments.</p>
                    <p class="mt-2"><strong class="text-amber-400">Best for:</strong> Beginners looking for a straightforward, flexible guideline without intensive tracking.</p>
                </div>
                <div class="explanation-content hidden" data-system="80-20">
                    <h4 class="font-bold text-lg text-slate-100">The 80/20 Method (Pay Yourself First)</h4>
                    <p class="text-slate-300 mt-1">A simple strategy where you save 20% of your income first. The remaining 80% is yours to spend on needs and wants without strict rules.</p>
                    <p class="mt-2"><strong class="text-amber-400">Best for:</strong> Those who find detailed budgeting tedious but are committed to consistent saving.</p>
                </div>
                <div class="explanation-content hidden" data-system="envelope">
                    <h4 class="font-bold text-lg text-slate-100">The Envelope System</h4>
                    <p class="text-slate-300 mt-1">A hands-on approach to control overspending. You allocate a fixed cash amount to different categories. Once an envelope is empty, you stop spending.</p>
                    <p class="mt-2"><strong class="text-amber-400">Best for:</strong> Visual budgeters and anyone who struggles with overspending on debit or credit cards.</p>
                </div>
                <div class="explanation-content hidden" data-system="zero-based">
                    <h4 class="font-bold text-lg text-slate-100">Zero-Based Budgeting</h4>
                    <p class="text-slate-300 mt-1">A meticulous method where every dollar is assigned a purpose, so that Income - Expenses = $0. No money is left unaccounted for.</p>
                    <p class="mt-2"><strong class="text-amber-400">Best for:</strong> Detail-oriented individuals who want maximum control over their finances.</p>
                </div>
                <div class="explanation-content hidden" data-system="kiko">
                    <h4 class="font-bold text-lg text-slate-100">Kiko's Budgeting System</h4>
                    <p class="text-slate-300 mt-1">An aggressive, investment-focused strategy. It covers absolute essentials with a small fixed amount, allocates fixed percentages to wants and emergencies, and dedicates the entire rest of your income to investing.</p>
                    <p class="mt-2"><strong class="text-amber-400">Best for:</strong> Disciplined individuals with low, stable living expenses who want to maximize their wealth-building potential.</p>
                </div>
            </section>

            <section id="results-section" class="mt-8 pt-6 border-t border-white/10 min-h-[280px]">
                <div class="flex flex-col md:flex-row gap-8 items-center justify-between">
                    <div id="breakdown-details" class="w-full md:w-1/2 space-y-3"></div>
                    <div class="w-full md:w-1/2 flex items-center justify-center">
                        <div class="chart-container"><canvas id="budget-chart"></canvas></div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="mt-8 text-center bg-black/20 backdrop-blur-xl border border-white/10 p-8 rounded-2xl shadow-2xl">
            <h3 class="text-2xl font-bold text-slate-100">Ready to Take the Next Step?</h3>
            <p class="mt-2 max-w-xl mx-auto text-slate-400">Get a personalized plan or automate your entire financial system with our premium tools.</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center mt-6">
                 <form class="flex flex-grow sm:flex-grow-0 gap-3">
                    <input type="email" placeholder="Enter your email" class="flex-grow w-full p-3 border rounded-lg outline-none premium-input" required>
                    <button type="submit" class="bg-slate-200 text-slate-900 font-bold px-5 py-3 rounded-lg hover:bg-white transition-colors">Get My Plan</button>
                </form>
                <button class="bg-amber-500 text-slate-900 font-bold px-6 py-3 rounded-lg hover:bg-amber-400 transition-colors">Automate My Finances</button>
            </div>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const incomeInput = document.getElementById('income'), monthlyBtn = document.getElementById('monthly-btn'), annualBtn = document.getElementById('annual-btn'), budgetBtns = document.querySelectorAll('.budget-btn'), explanationContents = document.querySelectorAll('.explanation-content'), breakdownDetails = document.getElementById('breakdown-details'), chartCanvas = document.getElementById('budget-chart');
            let state = { income: 0, period: 'monthly', system: '50-30-20' }, budgetChart = null;

            const chartColors = {
                'Needs': '#f59e0b', 'Wants': '#818cf8', 'Savings & Investments': '#60a5fa', 'Savings': '#60a5fa', 'Everything Else': '#818cf8', 'Groceries': '#f472b6', 'Entertainment': '#a78bfa', 'Shopping': '#34d399', 'Unbudgeted': '#9ca3af',
                'Emergency Fund': '#f43f5e', 'Investing': '#22c55e'
            };

            const formatCurrency = (amount) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(amount);
            const initializeChart = () => { budgetChart = new Chart(chartCanvas.getContext('2d'), { type: 'doughnut', data: { labels: [], datasets: [{ data: [], backgroundColor: [], borderColor: 'rgba(30, 41, 59, 0.6)', borderWidth: 4, hoverOffset: 15 }] }, options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `${c.label}: ${formatCurrency(c.parsed)}` } } }, animation: { animateScale: true, animateRotate: true } } }); };
            
            const calculateAndDisplay = () => {
                const monthlyIncome = state.period === 'annual' ? state.income / 12 : state.income;
                if (monthlyIncome < 0) return; let breakdown, title;
                switch (state.system) {
                    case '80-20': title = '80/20 Method Breakdown'; breakdown = { 'Savings': monthlyIncome * 0.20, 'Everything Else': monthlyIncome * 0.80 }; break;
                    case 'envelope': title = 'Envelope System Example'; const d = monthlyIncome * 0.50; breakdown = { 'Groceries': d * 0.30, 'Entertainment': d * 0.20, 'Shopping': d * 0.15, 'Unbudgeted': monthlyIncome - (d * 0.65) }; break;
                    case 'zero-based': title = 'Zero-Based Plan Example'; breakdown = { 'Needs': monthlyIncome * 0.50, 'Wants': monthlyIncome * 0.30, 'Savings & Investments': monthlyIncome * 0.20 }; break;
                    case 'kiko': title = "Kiko's System Breakdown"; const fixedNeeds = 40.00; const wants = monthlyIncome * 0.12; const emergency = monthlyIncome * 0.08; const investing = Math.max(0, monthlyIncome - fixedNeeds - wants - emergency); breakdown = { 'Needs': fixedNeeds, 'Wants': wants, 'Emergency Fund': emergency, 'Investing': investing }; break;
                    default: title = '50/30/20 Rule Breakdown'; breakdown = { 'Needs': monthlyIncome * 0.50, 'Wants': monthlyIncome * 0.30, 'Savings & Investments': monthlyIncome * 0.20 };
                }
                updateDisplay(breakdown, title, monthlyIncome);
                updateChart(breakdown);
            };

            const updateDisplay = (breakdown, title, monthlyIncome) => {
                breakdownDetails.innerHTML = `<h2 class="text-2xl font-bold text-slate-100 mb-4">${title}</h2>`;
                if (!state.income || state.income <= 0) { breakdownDetails.innerHTML += '<p class="text-slate-500 py-10">Enter your income to see the calculation.</p>'; return; }
                const staticPercentages = { 'Needs': 50, 'Wants': 30, 'Savings & Investments': 20, 'Savings': 20, 'Everything Else': 80 };
                for (const category in breakdown) {
                    const amount = breakdown[category], colorValue = chartColors[category] || chartColors['Unbudgeted']; let categoryText = `${category}`;
                    if (state.system === 'kiko') {
                        if (category === 'Needs') categoryText += ' (Fixed)';
                        else if (category === 'Wants') categoryText += ' (12%)';
                        else if (category === 'Emergency Fund') categoryText += ' (8%)';
                        else if (category === 'Investing') { const p = monthlyIncome > 0 ? ((amount / monthlyIncome) * 100).toFixed(0) : 0; categoryText += ` (~${p}%)`; }
                    } else if (staticPercentages[category]) { categoryText += ` (${staticPercentages[category]}%)`; }
                    const div = document.createElement('div'); div.className = 'bg-slate-800/50 p-4 rounded-lg border border-white/10 flex items-center justify-between';
                    div.innerHTML = `<div class="flex items-center"><span class="w-3 h-3 rounded-full mr-4 flex-shrink-0" style="background-color: ${colorValue};"></span><p class="font-semibold text-slate-200">${categoryText}</p></div><p class="font-bold text-lg text-slate-100">${formatCurrency(amount)}</p>`;
                    breakdownDetails.appendChild(div);
                }
            };
            
            const updateChart = (breakdown) => {
                if (!budgetChart) initializeChart(); const labels = Object.keys(breakdown), data = Object.values(breakdown);
                budgetChart.data.labels = labels; budgetChart.data.datasets[0].data = data; budgetChart.data.datasets[0].backgroundColor = labels.map(label => chartColors[label] || chartColors['Unbudgeted']); budgetChart.update();
            };

            incomeInput.addEventListener('input', (e) => { state.income = parseFloat(e.target.value) || 0; calculateAndDisplay(); });
            monthlyBtn.addEventListener('click', () => { if (state.period !== 'monthly') { state.period = 'monthly'; monthlyBtn.classList.add('btn-active'); annualBtn.classList.remove('btn-active'); if(state.income > 0) { incomeInput.value = (state.income / 12).toFixed(0); incomeInput.dispatchEvent(new Event('input')); } } });
            annualBtn.addEventListener('click', () => { if (state.period !== 'annual') { state.period = 'annual'; annualBtn.classList.add('btn-active'); monthlyBtn.classList.remove('btn-active'); if(state.income > 0) { incomeInput.value = (state.income * 12).toFixed(0); incomeInput.dispatchEvent(new Event('input')); } } });
            budgetBtns.forEach(btn => btn.addEventListener('click', () => {
                budgetBtns.forEach(b => b.classList.remove('btn-active')); btn.classList.add('btn-active'); state.system = btn.dataset.system;
                explanationContents.forEach(content => content.classList.toggle('hidden', content.dataset.system !== state.system));
                calculateAndDisplay();
            }));

            initializeChart(); calculateAndDisplay();
        });
    </script>
</body>
</html>
