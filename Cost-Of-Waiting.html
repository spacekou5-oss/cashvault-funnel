<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cost of Waiting Engine</title>
    
    <style>body { background-color: #050505; }</style>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
    
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        cyber: {
                            black: '#050505',
                            dark: '#111111',
                            green: '#00FF41',
                            red: '#FF0000',
                            gray: '#333333'
                        }
                    },
                    animation: {
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
                        'glitch': 'glitch 1s linear infinite',
                    },
                    keyframes: {
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Range Slider Styling (The Slider of Doom) */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent;
        }
        /* THUMB OPTIMIZATION: Increased to 32px for Mobile Grip */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 32px;
            width: 32px;
            border-radius: 50%;
            background: #FFFFFF;
            border: 2px solid #FF0000;
            cursor: pointer;
            margin-top: -14px; /* Centered relative to 4px track */
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #333;
            border-radius: 2px;
        }
        input[type=range]:focus::-webkit-slider-thumb {
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.9);
        }

        /* Glitch Text Effect */
        .glitch {
            position: relative;
        }
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .glitch::before {
            left: 2px;
            text-shadow: -1px 0 #FF0000;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }
        .glitch::after {
            left: -2px;
            text-shadow: -1px 0 #00FF41;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim2 5s infinite linear alternate-reverse;
        }
        @keyframes glitch-anim {
            0% { clip: rect(31px, 9999px, 94px, 0); }
            5% { clip: rect(70px, 9999px, 11px, 0); }
            10% { clip: rect(26px, 9999px, 89px, 0); }
            15% { clip: rect(6px, 9999px, 14px, 0); }
            20% { clip: rect(76px, 9999px, 7px, 0); }
            100% { clip: rect(13px, 9999px, 56px, 0); }
        }
        @keyframes glitch-anim2 {
            0% { clip: rect(21px, 9999px, 4px, 0); }
            5% { clip: rect(6px, 9999px, 64px, 0); }
            10% { clip: rect(56px, 9999px, 39px, 0); }
            15% { clip: rect(16px, 9999px, 24px, 0); }
            20% { clip: rect(86px, 9999px, 17px, 0); }
            100% { clip: rect(43px, 9999px, 36px, 0); }
        }
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-cyber-black text-white font-sans antialiased min-h-screen flex items-center justify-center p-4">

    <main x-data="costEngine()" class="w-full max-w-lg">

        <div class="mb-8 text-center">
            <h1 class="text-4xl font-black tracking-tighter uppercase glitch" data-text="PROJECT TICKER">
                PROJECT TICKER
            </h1>
            <p class="text-xs text-cyber-gray mt-2 font-mono tracking-widest uppercase">Compound Interest is not a game.</p>
        </div>

        <div class="bg-cyber-dark border border-cyber-gray rounded-xl p-6 mb-6 shadow-2xl">
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div>
                    <label class="block text-xs font-bold text-cyber-gray uppercase mb-2">Current Age</label>
                    <input type="number" x-model.number="age" 
                        class="w-full bg-black border border-cyber-gray text-white font-mono text-xl p-3 rounded focus:outline-none focus:border-white transition-colors text-center"
                        placeholder="20">
                </div>
                <div>
                    <label class="block text-xs font-bold text-cyber-gray uppercase mb-2">Monthly Invest</label>
                    <div class="relative">
                        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-cyber-gray">$</span>
                        <input type="number" x-model.number="contribution" 
                            class="w-full bg-black border border-cyber-gray text-white font-mono text-xl p-3 pl-8 rounded focus:outline-none focus:border-white transition-colors text-center"
                            placeholder="500">
                    </div>
                </div>
            </div>

            <div class="mt-8">
                <div class="flex justify-between items-end mb-4">
                    <label class="text-sm font-bold uppercase tracking-wider text-cyber-red">Years You Wait</label>
                    <span class="text-3xl font-black font-mono text-cyber-red" x-text="waitYears + ' YRS'"></span>
                </div>
                <input type="range" min="0" max="10" step="1" x-model.number="waitYears" class="w-full mb-2">
                <p class="text-center text-[10px] text-cyber-gray uppercase mt-2">Slide right to see the damage</p>
            </div>
        </div>

        <div class="bg-cyber-dark border border-cyber-gray rounded-xl p-6 mb-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-cyber-green opacity-5 blur-[80px]" x-show="waitYears === 0"></div>
            <div class="absolute bottom-0 left-0 w-32 h-32 bg-cyber-red opacity-5 blur-[80px]" x-show="waitYears > 0"></div>

            <div class="mb-6 border-b border-dashed border-cyber-gray pb-6">
                <p class="text-xs font-bold text-cyber-green uppercase tracking-widest mb-1">Your Potential Net Worth</p>
                <div class="text-3xl sm:text-4xl font-black font-mono text-white tracking-tight" x-text="formatMoney(wealthNow)"></div>
                <p class="text-[10px] text-cyber-gray mt-1">At age 65 (10% Return)</p>
            </div>

            <div>
                <p class="text-xs font-bold text-cyber-red uppercase tracking-widest mb-1">Wealth You Burned</p>
                <div class="text-4xl sm:text-5xl font-black font-mono text-cyber-red tracking-tight" x-text="'-' + formatMoney(loss)"></div>
            </div>

            <div class="mt-6 p-3 bg-black border border-cyber-red/30 rounded text-center">
                <p class="text-sm font-bold text-white uppercase" 
                   :class="{ 'animate-shake text-cyber-red': loss > 500000 }"
                   x-text="getFeedback()"></p>
            </div>
        </div>

        <a href="https://spacekou5-oss.github.io/cashvault-funnel/Investment-Simplifier.html" target="_blank" 
           class="group block w-full bg-cyber-red hover:bg-red-600 text-white text-center py-4 rounded-xl font-black uppercase tracking-widest transition-all hover:scale-[1.02] shadow-[0_0_20px_rgba(255,0,0,0.4)] animate-pulse-fast">
            Stop The Bleeding <span class="inline-block transition-transform group-hover:translate-x-1">âžœ</span>
        </a>
        
        <p class="text-center text-[10px] text-cyber-gray mt-4 opacity-50">
            Assumes 10% annual return compounded monthly. Not financial advice.
        </p>

    </main>

    <script>
        function costEngine() {
            return {
                age: 20,
                contribution: 500,
                waitYears: 0,
                
                // Constants
                retirementAge: 65,
                annualRate: 0.10,

                // Computed: The Good Number (Start Now)
                get wealthNow() {
                    return this.calculateFV(this.age);
                },

                // Computed: The Bad Number (Start Later)
                get wealthLater() {
                    return this.calculateFV(this.age + this.waitYears);
                },

                // Computed: The Loss
                get loss() {
                    return Math.max(0, this.wealthNow - this.wealthLater);
                },

                // Core Logic: FV = P * (((1 + r)^n - 1) / r)
                calculateFV(startAge) {
                    if (startAge >= this.retirementAge) return 0;
                    
                    const years = this.retirementAge - startAge;
                    const months = years * 12;
                    const monthlyRate = this.annualRate / 12;
                    
                    if (this.contribution <= 0) return 0;

                    const fv = this.contribution * ( (Math.pow(1 + monthlyRate, months) - 1) / monthlyRate );
                    return fv;
                },

                // Copywriting Logic
                getFeedback() {
                    if (this.loss === 0) return "YOU ARE ON TRACK. STAY FOCUSED.";
                    if (this.loss < 50000) return "OUCH. THAT'S A DOWN PAYMENT GONE.";
                    if (this.loss < 100000) return "YOU JUST BURNED A BRAND NEW TESLA.";
                    if (this.loss < 500000) return "THIS IS A FERRARI. GONE.";
                    return "YOU ARE SETTING YOUR RETIREMENT ON FIRE.";
                },

                // Formatter
                formatMoney(value) {
                    return new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD',
                        maximumFractionDigits: 0
                    }).format(value);
                }
            }
        }
    </script>
</body>
</html>
