<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Simplifier - Premium ETF Portfolio Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #151933;
            --bg-card: #1a1f3a;
            --bg-card-hover: #212642;
            --accent-primary: #6366f1;
            --accent-secondary: #8b5cf6;
            --accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --success: #10b981;
            --success-light: #34d399;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border: #2a3150;
            --border-light: #3a4166;
            --gold: #fbbf24;
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 8px 16px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.5);
            --shadow-glow: 0 0 40px rgba(99, 102, 241, 0.3);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background gradient */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 20%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
            z-index: -1;
            animation: floatGradient 20s ease infinite;
        }

        @keyframes floatGradient {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-20px, -20px) rotate(120deg); }
            66% { transform: translate(20px, -10px) rotate(240deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        .header {
            text-align: center;
            padding: 60px 20px 40px;
            position: relative;
            margin-bottom: 40px;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 2px;
            background: var(--accent-gradient);
            border-radius: 2px;
        }

        .header h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #f1f5f9 0%, #cbd5e1 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            animation: fadeInDown 0.8s ease;
        }

        .header p {
            font-size: clamp(1rem, 2vw, 1.25rem);
            color: var(--text-secondary);
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .glass-card {
            background: linear-gradient(135deg, rgba(26, 31, 58, 0.9) 0%, rgba(21, 25, 51, 0.9) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
            animation: slideIn 0.6s ease both;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.5), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 32px;
            background: var(--accent-gradient);
            border-radius: 2px;
            box-shadow: var(--shadow-glow);
        }

        .info-box {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            animation: fadeIn 0.8s ease 0.4s both;
        }

        .info-box h3 {
            color: var(--accent-primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-box p {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .input-group input,
        .input-group select {
            padding: 14px 18px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            color: var(--text-primary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--accent-primary);
            background: var(--bg-card-hover);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1), var(--shadow-glow);
            transform: translateY(-2px);
        }

        .input-group input::placeholder {
            color: var(--text-muted);
        }

        .btn {
            background: var(--accent-gradient);
            color: white;
            padding: 16px 40px;
            border: none;
            border-radius: 12px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.5), var(--shadow-glow);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .results-container {
            display: none;
            animation: fadeIn 0.6s ease;
        }

        .results-container.show {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .allocation-summary {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(26, 31, 58, 0.8) 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
        }

        .allocation-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .allocation-row:hover {
            padding-left: 10px;
        }

        .allocation-row:last-child {
            border-bottom: none;
        }

        .allocation-label {
            font-weight: 500;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .allocation-value {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .etf-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .etf-card {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(26, 31, 58, 0.9) 100%);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .etf-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent-gradient);
            transform: scaleX(0);
            transition: transform 0.4s ease;
            transform-origin: left;
        }

        .etf-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
            border-color: var(--accent-primary);
            background: linear-gradient(135deg, var(--bg-card-hover) 0%, rgba(33, 38, 66, 0.9) 100%);
        }

        .etf-card:hover::before {
            transform: scaleX(1);
        }

        .etf-ticker {
            font-size: 2rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .etf-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .etf-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .etf-type {
            display: inline-block;
            padding: 6px 12px;
            background: rgba(99, 102, 241, 0.2);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--accent-primary);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .etf-allocation {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        .allocation-label-small {
            color: var(--text-muted);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .allocation-percent {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--success);
            text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }

        .projection-results {
            display: none;
            margin-top: 30px;
        }

        .projection-results.show {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .projection-card {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(26, 31, 58, 0.9) 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .projection-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .projection-card:hover::after {
            opacity: 1;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .projection-card.highlight {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(34, 211, 153, 0.1) 100%);
            border-color: rgba(16, 185, 129, 0.3);
        }

        .projection-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .projection-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 500;
        }

        .projection-value {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .projection-card.highlight .projection-value {
            background: linear-gradient(135deg, var(--success) 0%, var(--success-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .projection-difference {
            margin-top: 15px;
            font-size: 0.95rem;
            color: var(--gold);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .etf-definition {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.05) 0%, rgba(251, 191, 36, 0.1) 100%);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
        }

        .etf-definition h3 {
            color: var(--gold);
            margin-bottom: 10px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .etf-definition p {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                padding: 40px 10px 30px;
            }

            .glass-card {
                padding: 20px;
                border-radius: 15px;
            }

            .etf-cards {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .etf-card {
                padding: 20px;
            }

            .btn {
                width: 100%;
                padding: 14px 30px;
            }

            .allocation-row {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .projection-results.show {
                grid-template-columns: 1fr;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Loading animation */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .loading {
            animation: pulse 1.5s ease infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Investment Simplifier</h1>
            <p>Build your premium ETF portfolio with intelligent asset allocation</p>
        </div>
        
        <!-- ETF Education Section -->
        <div class="glass-card" style="animation-delay: 0.1s;">
            <div class="etf-definition">
                <h3>üí° What is an ETF?</h3>
                <p>An Exchange-Traded Fund (ETF) is like a basket of investments that trades on the stock market like a single stock. Instead of picking individual companies, ETFs let you invest in hundreds or thousands of stocks or bonds at once, providing instant diversification. They typically have lower fees than mutual funds and can be bought or sold anytime during market hours. Think of it as buying a slice of the entire market rather than betting on individual companies.</p>
            </div>
        </div>

        <!-- Portfolio Builder Section -->
        <div class="glass-card" style="animation-delay: 0.2s;">
            <h2 class="section-title">Create Your Personalized Portfolio</h2>
            
            <div class="info-box">
                <h3>üìä How It Works</h3>
                <p>We use the time-tested "Age in Bonds" strategy, adjusted for your risk tolerance. Younger investors can afford more risk for higher growth, while those closer to retirement need more stability.</p>
            </div>

            <div class="input-grid">
                <div class="input-group">
                    <label for="userAge">Your Age</label>
                    <input type="number" id="userAge" placeholder="Enter your age" min="18" max="100">
                </div>
                <div class="input-group">
                    <label for="riskStyle">Investment Style</label>
                    <select id="riskStyle">
                        <option value="growth">üöÄ Growth - Maximum Returns (Higher Risk)</option>
                        <option value="balanced" selected>‚öñÔ∏è Balanced - Steady Growth (Moderate Risk)</option>
                        <option value="income">üõ°Ô∏è Income - Preservation (Lower Risk)</option>
                    </select>
                </div>
            </div>
            <button class="btn" id="generatePlanBtn">Generate My Portfolio</button>
        </div>

        <!-- Results Display Section -->
        <div id="resultsDisplay" class="glass-card results-container" style="animation-delay: 0.3s;">
            <h2 class="section-title">Your Recommended Portfolio</h2>
            <div class="allocation-summary">
                <div class="allocation-row">
                    <span class="allocation-label">üìà Stock Allocation</span>
                    <span class="allocation-value" id="stockAllocation">--</span>
                </div>
                <div class="allocation-row">
                    <span class="allocation-label">üè¶ Bond Allocation</span>
                    <span class="allocation-value" id="bondAllocation">--</span>
                </div>
            </div>
            <div class="etf-cards" id="etfCards"></div>
        </div>

        <!-- Growth Projection Section -->
        <div class="glass-card" style="animation-delay: 0.4s;">
            <h2 class="section-title">Project Your Wealth Growth</h2>
            
            <div class="info-box">
                <h3>üí∞ The Power of Compound Interest</h3>
                <p>See how your regular investments can grow over time. We use a conservative 7% annual return based on historical market averages. Remember: time in the market beats timing the market.</p>
            </div>

            <div class="input-grid">
                <div class="input-group">
                    <label for="monthlyInvestment">Monthly Investment Amount</label>
                    <input type="number" id="monthlyInvestment" placeholder="$ Amount per month" min="50">
                </div>
                <div class="input-group">
                    <label for="investmentPeriod">Investment Timeline (Years)</label>
                    <input type="number" id="investmentPeriod" placeholder="Years to invest" min="5" max="40">
                </div>
            </div>
            <button class="btn" id="calculateGrowthBtn">Calculate Growth</button>
            
            <div id="projectionResults" class="projection-results">
                <div class="projection-card">
                    <div class="projection-label">üíµ Total Cash Invested</div>
                    <div class="projection-value" id="cashSaved">--</div>
                </div>
                <div class="projection-card highlight">
                    <div class="projection-label">üöÄ Projected Portfolio Value</div>
                    <div class="projection-value" id="projectedValue">--</div>
                    <div class="projection-difference" id="growthDifference"></div>
                </div>
            </div>
        </div>

        <!-- Footer Credit and Disclaimer -->
        <div style="text-align: center; color: var(--text-muted); padding: 20px 0; animation: fadeInUp 0.8s ease 0.6s both;">
            <p style="margin-bottom: 15px; font-size: 0.9rem; letter-spacing: 0.05em;">Made by Kou</p>
            <p style="font-size: 0.8rem; max-width: 800px; margin: 0 auto; line-height: 1.5;">
                This tool is presented for informational and educational purposes only, reflecting countless hours of research into established financial data and principles. The creator is not a financial advisor, and the content herein should not be construed as financial advice. Please consult with a qualified professional before making investment decisions.
            </p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generatePlanBtn = document.getElementById('generatePlanBtn');
            const calculateGrowthBtn = document.getElementById('calculateGrowthBtn');
            
            generatePlanBtn.addEventListener('click', calculatePortfolio);
            calculateGrowthBtn.addEventListener('click', calculateGrowth);
        });

        // ETF Data with expanded information
        const etfData = {
            vti: {
                ticker: "VTI",
                name: "Vanguard Total Stock Market ETF",
                description: "Provides exposure to the entire U.S. equity market, including small-, mid-, and large-cap stocks. The core of a diversified portfolio, capturing the growth of thousands of U.S. companies.",
                type: "U.S. Total Market",
                expense: "0.03%"
            },
            vxus: {
                ticker: "VXUS",
                name: "Vanguard Total International Stock ETF",
                description: "Offers exposure to stocks in developed and emerging markets outside the United States. Diversifies your portfolio globally to reduce country-specific risk.",
                type: "International Stocks",
                expense: "0.08%"
            },
            bnd: {
                ticker: "BND",
                name: "Vanguard Total Bond Market ETF",
                description: "Tracks U.S. investment-grade bonds. Provides stability, income, and a buffer against stock market volatility, making it a key part of a balanced portfolio.",
                type: "U.S. Bonds",
                expense: "0.03%"
            },
            schd: {
                ticker: "SCHD",
                name: "Schwab U.S. Dividend Equity ETF",
                description: "Focuses on high-quality, dividend-paying U.S. companies with a record of sustainable payouts. Aims to provide a steady stream of income and potential for long-term growth.",
                type: "U.S. Dividend Stocks",
                expense: "0.06%"
            }
        };

        // Smooth number animation
        function animateValue(element, start, end, duration, prefix = '', suffix = '') {
            const range = end - start;
            if (range === 0) {
                element.textContent = prefix + end.toLocaleString('en-US') + suffix;
                return;
            };
            const startTime = performance.now();
            
            function updateValue(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                const current = start + (range * easeOutQuart);
                
                element.textContent = prefix + Math.round(current).toLocaleString('en-US') + suffix;
                
                if (progress < 1) {
                    requestAnimationFrame(updateValue);
                }
            }
            
            requestAnimationFrame(updateValue);
        }
        
        function showNotification(message) {
            alert(message);
        }

        // Portfolio Calculator
        function calculatePortfolio() {
            const age = parseInt(document.getElementById('userAge').value);
            const riskStyle = document.getElementById('riskStyle').value;
            
            if (!age || age < 18 || age > 100) {
                showNotification('Please enter a valid age between 18 and 100');
                return;
            }

            const btn = document.getElementById('generatePlanBtn');
            btn.classList.add('loading');
            btn.disabled = true;

            setTimeout(() => {
                let stockPercentage;
                let schdRatio; // Percentage of the domestic stock allocation

                switch(riskStyle) {
                    case 'growth':
                        stockPercentage = 100 - age;
                        schdRatio = 0.15; // 15% of domestic stock in SCHD
                        break;
                    case 'balanced':
                        stockPercentage = 90 - age;
                        schdRatio = 0.25; // 25% for balance
                        break;
                    case 'income':
                        stockPercentage = 70 - age;
                        schdRatio = 0.40; // 40% for income focus
                        break;
                }

                stockPercentage = Math.max(20, Math.min(95, stockPercentage));
                const bondPercentage = 100 - stockPercentage;

                // Allocation of Stocks
                const internationalStockPct = stockPercentage * 0.30;
                const domesticStockPct = stockPercentage * 0.70;

                let schdPercent = Math.round(domesticStockPct * schdRatio);
                let vtiPercent = Math.round(domesticStockPct * (1 - schdRatio));
                let vxusPercent = Math.round(internationalStockPct);
                let bndPercent = bondPercentage;

                // Adjust to ensure total is 100%
                let totalPercent = vtiPercent + vxusPercent + schdPercent + bndPercent;
                if (totalPercent !== 100) {
                    vtiPercent += (100 - totalPercent); // Adjust the largest stock portion
                }

                displayPortfolio(stockPercentage, bondPercentage, vtiPercent, vxusPercent, bndPercent, schdPercent);
                btn.classList.remove('loading');
                btn.disabled = false;
            }, 500);
        }

        function createETFCard(etf, percent) {
            return `
                <div class="etf-card">
                    <div class="etf-ticker">${etf.ticker}</div>
                    <div class="etf-name">${etf.name}</div>
                    <div class="etf-type">${etf.type}</div>
                    <p class="etf-description">${etf.description}</p>
                    <div class="etf-allocation">
                        <span class="allocation-label-small">Allocation</span>
                        <span class="allocation-percent">${percent}%</span>
                    </div>
                </div>
            `;
        }

        function displayPortfolio(stockPct, bondPct, vtiPct, vxusPct, bndPct, schdPct) {
            const resultsDiv = document.getElementById('resultsDisplay');
            resultsDiv.classList.add('show');

            animateValue(document.getElementById('stockAllocation'), 0, stockPct, 1000, '', '%');
            animateValue(document.getElementById('bondAllocation'), 0, bondPct, 1000, '', '%');

            const etfCardsContainer = document.getElementById('etfCards');
            etfCardsContainer.innerHTML = '';

            const cardsData = [];
            if (vtiPct > 0) cardsData.push({ data: etfData.vti, percent: vtiPct });
            if (schdPct > 0) cardsData.push({ data: etfData.schd, percent: schdPct });
            if (vxusPct > 0) cardsData.push({ data: etfData.vxus, percent: vxusPct });
            if (bndPct > 0) cardsData.push({ data: etfData.bnd, percent: bndPct });

            cardsData.forEach((card, index) => {
                setTimeout(() => {
                    const cardElementHTML = createETFCard(card.data, card.percent);
                    etfCardsContainer.insertAdjacentHTML('beforeend', cardElementHTML);
                }, index * 150);
            });
            
            setTimeout(() => {
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 250);
        }

        function calculateGrowth() {
            const monthlyInvestment = parseInt(document.getElementById('monthlyInvestment').value);
            const investmentPeriod = parseInt(document.getElementById('investmentPeriod').value);
            const btn = document.getElementById('calculateGrowthBtn');

            if (!monthlyInvestment || monthlyInvestment < 50) {
                showNotification('Please enter a monthly investment of at least $50.');
                return;
            }
            if (!investmentPeriod || investmentPeriod < 5 || investmentPeriod > 40) {
                showNotification('Please enter an investment timeline between 5 and 40 years.');
                return;
            }
            
            btn.classList.add('loading');
            btn.disabled = true;

            setTimeout(() => {
                const P = monthlyInvestment;
                const r = 0.07;
                const n = 12;
                const t = investmentPeriod;
                
                const futureValue = P * ((Math.pow(1 + r / n, n * t) - 1) / (r / n));
                const totalCashInvested = P * n * t;
                const growthDifference = futureValue - totalCashInvested;

                displayProjection(totalCashInvested, futureValue, growthDifference);
                btn.classList.remove('loading');
                btn.disabled = false;
            }, 500);
        }

        function displayProjection(cash, projected, growth) {
            const resultsDiv = document.getElementById('projectionResults');
            resultsDiv.classList.add('show');

            animateValue(document.getElementById('cashSaved'), 0, cash, 1200, '$');
            animateValue(document.getElementById('projectedValue'), 0, projected, 1200, '$');
            
            const growthDifferenceEl = document.getElementById('growthDifference');
            growthDifferenceEl.innerHTML = '';
            
            setTimeout(() => {
                const span = document.createElement('span');
                span.textContent = `+ $${Math.round(growth).toLocaleString('en-US')} in growth`;
                growthDifferenceEl.appendChild(span);
                growthDifferenceEl.style.opacity = '0';
                fadeIn(growthDifferenceEl);
            }, 500);

            setTimeout(() => {
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 250);
        }
        
        function fadeIn(element) {
            let op = 0.1;
            element.style.display = 'flex';
            let timer = setInterval(function () {
                if (op >= 1){
                    clearInterval(timer);
                }
                element.style.opacity = op;
                element.style.filter = 'alpha(opacity=' + op * 100 + ")";
                op += op * 0.1;
            }, 20);
        }

    </script>
</body>
</html>
