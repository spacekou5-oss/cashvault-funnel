<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Budget Split Calculator</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js and Datalabels Plugin via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.1.0"></script>


    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
            background-image:
                radial-gradient(at 20% 80%, hsla(260, 50%, 30%, 0.2) 0px, transparent 50%),
                radial-gradient(at 80% 10%, hsla(210, 45%, 40%, 0.25) 0px, transparent 50%),
                linear-gradient(to bottom right, #111827, #131b31, #111827);
        }
        .btn-active {
            background-color: #f59e0b; color: #111827; border-color: #f59e0b;
        }
        .premium-input {
            background-color: rgba(17, 24, 39, 0.5); border-color: rgba(255, 255, 255, 0.1); color: #f1f5f9;
        }
        .premium-input::placeholder { color: #64748b; }
        .premium-input:focus {
             border-color: #f59e0b; box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.4);
        }
        .chart-container { position: relative; height: 300px; width: 300px; }
        .explanation-content { transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; }
    </style>
</head>
<body class="text-slate-300">

    <div class="container mx-auto max-w-4xl p-4 sm:p-6 md:p-8 min-h-screen flex flex-col justify-center">

        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-slate-100 to-slate-400">Find the Perfect Budgeting System for You</h1>
            <p class="text-lg text-slate-400 mt-2">Enter your income to instantly see your personalized budget breakdown.</p>
        </header>

        <main class="bg-slate-900/60 backdrop-blur-xl p-6 sm:p-8 rounded-2xl shadow-2xl border border-white/10">

            <section id="income-section">
                <label for="income" class="block text-lg font-semibold mb-2  text-slate-200">Enter Your Income</label>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="income" placeholder="e.g., 50000" class="flex-grow w-full text-lg p-3 border rounded-lg transition duration-200 outline-none premium-input">
                    <div class="flex bg-slate-800/80 p-1 rounded-lg border border-white/5">
                        <button id="monthly-btn" class="w-full sm:w-auto px-4 py-2 rounded-md text-sm font-medium transition-colors btn-active">Monthly</button>
                        <button id="annual-btn" class="w-full sm:w-auto px-4 py-2 rounded-md text-sm font-medium transition-colors text-slate-300">Annual</button>
                    </div>
                </div>
            </section>

            <section id="system-selector" class="mt-8">
                 <h2 class="text-lg font-semibold mb-3 text-slate-200">Choose Your Budgeting Method</h2>
                 <div class="grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-3">
                     <button data-system="50-30-20" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500 btn-active">50/30/20 Rule</button>
                     <button data-system="envelope" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">Envelope</button>
                     <button data-system="pay-yourself-first" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">Pay Yourself First</button>
                     <button data-system="80-20" class="budget-btn p-3 text-sm font-semibold border border-white/10 rounded-lg transition-colors hover:bg-amber-500 hover:border-amber-500 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-amber-500">80/20 Budget</button>
                 </div>
            </section>
            
            <section id="explanation-section" class="mt-6 p-5 bg-slate-800/50 rounded-lg border border-white/10">
                <div class="explanation-content" data-system="50-30-20">
                    <h4 class="font-bold text-lg text-slate-100">50/30/20 Rule (Simple Split Budget)</h4>
                    <p class="text-slate-300 mt-2"><strong class="text-amber-400">The Split:</strong> Your income is divided into three simple categories: 50% for Needs (rent, bills), 30% for Wants (entertainment), and 20% for Savings & Debt Repayment.</p>
                    <p class="mt-2"><strong class="text-amber-400">Advantages for Beginners:</strong> The primary advantage is simplicity. The clear percentages are easy to remember and apply without intensive tracking, making it a flexible and less intimidating way to start.</p>
                </div>
                <div class="explanation-content hidden" data-system="envelope">
                    <h4 class="font-bold text-lg text-slate-100">Envelope (Cash/Category) System</h4>
                    <p class="text-slate-300 mt-2"><strong class="text-amber-400">The Split:</strong> You divide your cash into designated envelopes for various spending categories (e.g., Groceries, Gas, Fun). You can only spend the money available in each envelope.</p>
                    <p class="mt-2"><strong class="text-amber-400">Advantages for Beginners:</strong> This system provides a tangible, visual limit on spending. It is incredibly effective for those who tend to overspend with cards because once the cash is gone, the spending must stop.</p>
                </div>
                <div class="explanation-content hidden" data-system="pay-yourself-first">
                    <h4 class="font-bold text-lg text-slate-100">Pay Yourself First Budget</h4>
                    <p class="text-slate-300 mt-2"><strong class="text-amber-400">The Split:</strong> The moment you receive your income, you immediately transfer a fixed percentage (e.g., 20%) directly into your savings or investment accounts. The rest is available for all other expenses.</p>
                    <p class="mt-2"><strong class="text-amber-400">Advantages for Beginners:</strong> This method automates the habit of saving and investing. It removes the temptation to spend your savings, as the money is set aside before you can even touch it.</p>
                </div>
                <div class="explanation-content hidden" data-system="80-20">
                    <h4 class="font-bold text-lg text-slate-100">80/20 Budget (Simplified FIRE-Friendly)</h4>
                    <p class="text-slate-300 mt-2"><strong class="text-amber-400">The Split:</strong> You allocate 20% of your income to Savings, Debt Repayment, & Investing. The remaining 80% is a single, flexible pool of money for all your Needs and Wants combined.</p>
                    <p class="mt-2"><strong class="text-amber-400">Advantages for Beginners:</strong> This is one of the easiest systems to follow. It focuses on the most important goal—saving—while providing maximum freedom and minimal tracking for the rest of your spending.</p>
                </div>
            </section>

            <section id="results-section" class="mt-8 pt-6 border-t border-white/10 min-h-[300px]">
                <div class="flex flex-col md:flex-row gap-8 items-center justify-between">
                    <div id="breakdown-details" class="w-full md:w-1/2 space-y-3"></div>
                    <div class="w-full md:w-1/2 flex items-center justify-center">
                        <div class="chart-container"><canvas id="budget-chart"></canvas></div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="mt-8 text-center bg-black/20 backdrop-blur-xl border border-white/10 p-8 rounded-2xl shadow-2xl">
            <h3 class="text-2xl font-bold text-slate-100">Ready to Take the Next Step?</h3>
            <p class="mt-2 max-w-xl mx-auto text-slate-400">Get a personalized plan or automate your entire financial system with our premium tools.</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center mt-6">
                 <form class="flex flex-grow sm:flex-grow-0 gap-3">
                    <input type="email" placeholder="Enter your email" class="flex-grow w-full p-3 border rounded-lg outline-none premium-input" required>
                    <button type="submit" class="bg-slate-200 text-slate-900 font-bold px-5 py-3 rounded-lg hover:bg-white transition-colors">Get My Plan</button>
                </form>
                <button class="bg-amber-500 text-slate-900 font-bold px-6 py-3 rounded-lg hover:bg-amber-400 transition-colors">Automate My Finances</button>
            </div>
            <p class="mt-8 text-sm text-slate-500">Made by kou | <a href="https://discord.gg/tfSKmzBy" class="text-amber-400 hover:underline" target="_blank" rel="noopener noreferrer">Join our Discord</a></p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const incomeInput = document.getElementById('income'), monthlyBtn = document.getElementById('monthly-btn'), annualBtn = document.getElementById('annual-btn'), budgetBtns = document.querySelectorAll('.budget-btn'), explanationContents = document.querySelectorAll('.explanation-content'), breakdownDetails = document.getElementById('breakdown-details'), chartCanvas = document.getElementById('budget-chart');
            let state = { income: 0, period: 'monthly', system: '50-30-20' }, budgetChart = null;

            const chartColors = { 
                'Needs': '#f59e0b', 'Wants': '#818cf8', 'Savings & Debt': '#60a5fa', 'Savings': '#60a5fa', 'Everything Else': '#818cf8', 
                'Groceries': '#f472b6', 'Fun': '#a78bfa', 'Shopping': '#34d399', 'Fixed Costs': '#9ca3af'
            };
            const formatCurrency = (amount) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(amount);
            
            const centerTextPlugin = {
                id: 'centerText',
                afterDraw: (chart) => {
                    if (chart.options.plugins.centerText.display) {
                        let ctx = chart.ctx; ctx.save();
                        let centerX = (chart.chartArea.left + chart.chartArea.right) / 2; let centerY = (chart.chartArea.top + chart.chartArea.bottom) / 2;
                        ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
                        ctx.font = '700 24px Inter, sans-serif'; ctx.fillStyle = '#f1f5f9'; ctx.fillText(chart.options.plugins.centerText.mainText, centerX, centerY - 10);
                        ctx.font = '500 14px Inter, sans-serif'; ctx.fillStyle = '#94a3b8'; ctx.fillText(chart.options.plugins.centerText.subText, centerX, centerY + 15);
                        ctx.restore();
                    }
                }
            };
            
            const initializeChart = () => {
                Chart.register(ChartDataLabels, centerTextPlugin);
                budgetChart = new Chart(chartCanvas.getContext('2d'), { 
                    type: 'doughnut', data: { labels: [], datasets: [{ data: [], backgroundColor: [], borderColor: 'rgba(30, 41, 59, 0.6)', borderWidth: 5, hoverOffset: 15 }] }, 
                    options: { 
                        responsive: true, maintainAspectRatio: false, cutout: '75%',
                        plugins: {
                            legend: { display: false }, tooltip: { enabled: false }, centerText: { display: true, mainText: '$0', subText: 'Monthly Income' },
                            datalabels: {
                                color: '#ffffff', textAlign: 'center', font: { weight: 'bold', size: 14 }, textShadow: { stroke: 'rgba(0,0,0,0.5)', blur: 4, color: 'rgba(0,0,0,0.5)' },
                                formatter: (value, context) => { const sum = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0); const percentage = sum > 0 ? (value / sum * 100).toFixed(0) + '%' : '0%'; const label = context.chart.data.labels[context.dataIndex]; return `${label}\n${percentage}`; },
                                display: (context) => context.dataset.data[context.dataIndex] > 0
                            }
                        }, 
                        animation: { animateScale: true, animateRotate: true }
                    } 
                });
            };
            
            const calculateAndDisplay = () => {
                const monthlyIncome = state.period === 'annual' ? state.income / 12 : state.income; if (monthlyIncome < 0) return; let breakdown, title;
                switch (state.system) {
                    case 'envelope': title = 'Envelope System Example'; const d = monthlyIncome * 0.50; breakdown = { 'Groceries': d * 0.30, 'Fun': d * 0.20, 'Shopping': d * 0.15, 'Fixed Costs': monthlyIncome - (d * 0.65) }; break;
                    case 'pay-yourself-first': title = 'Pay Yourself First Breakdown'; breakdown = { 'Savings': monthlyIncome * 0.20, 'Everything Else': monthlyIncome * 0.80 }; break;
                    case '80-20': title = '80/20 Budget Breakdown'; breakdown = { 'Savings & Debt': monthlyIncome * 0.20, 'Everything Else': monthlyIncome * 0.80 }; break;
                    default: title = '50/30/20 Rule Breakdown'; breakdown = { 'Needs': monthlyIncome * 0.50, 'Wants': monthlyIncome * 0.30, 'Savings & Debt': monthlyIncome * 0.20 };
                }
                updateDisplay(breakdown, title);
                updateChart(breakdown, monthlyIncome);
            };

            const updateDisplay = (breakdown, title) => {
                breakdownDetails.innerHTML = `<h2 class="text-2xl font-bold text-slate-100 mb-4">${title}</h2>`;
                if (!state.income || state.income <= 0) { breakdownDetails.innerHTML += '<p class="text-slate-500 py-10">Enter your income to see the calculation.</p>'; return; }
                const staticPercentages = { 'Needs': 50, 'Wants': 30, 'Savings & Debt': 20, 'Savings': 20, 'Everything Else': 80 };
                for (const category in breakdown) {
                    const amount = breakdown[category], colorValue = chartColors[category] || '#9ca3af'; let categoryText = `${category}`;
                    if (staticPercentages[category]) { categoryText += ` (${staticPercentages[category]}%)`; }
                    const div = document.createElement('div'); div.className = 'bg-slate-800/50 p-4 rounded-lg border border-white/10 flex items-center justify-between';
                    div.innerHTML = `<div class="flex items-center"><span class="w-3 h-3 rounded-full mr-4 flex-shrink-0" style="background-color: ${colorValue};"></span><p class="font-semibold text-slate-200">${categoryText}</p></div><p class="font-bold text-lg text-slate-100">${formatCurrency(amount)}</p>`;
                    breakdownDetails.appendChild(div);
                }
            };
            
            const updateChart = (breakdown, monthlyIncome) => {
                if (!budgetChart) initializeChart(); const labels = Object.keys(breakdown), data = Object.values(breakdown);
                budgetChart.data.labels = labels; budgetChart.data.datasets[0].data = data; budgetChart.data.datasets[0].backgroundColor = labels.map(label => chartColors[label] || '#9ca3af');
                budgetChart.options.plugins.centerText.mainText = formatCurrency(monthlyIncome || 0);
                budgetChart.update();
            };

            incomeInput.addEventListener('input', (e) => { state.income = parseFloat(e.target.value) || 0; calculateAndDisplay(); });
            monthlyBtn.addEventListener('click', () => { if (state.period !== 'monthly') { state.period = 'monthly'; monthlyBtn.classList.add('btn-active'); annualBtn.classList.remove('btn-active'); if(state.income > 0) { incomeInput.value = (state.income / 12).toFixed(0); incomeInput.dispatchEvent(new Event('input')); } } });
            annualBtn.addEventListener('click', () => { if (state.period !== 'annual') { state.period = 'annual'; annualBtn.classList.add('btn-active'); monthlyBtn.classList.remove('btn-active'); if(state.income > 0) { incomeInput.value = (state.income * 12).toFixed(0); incomeInput.dispatchEvent(new Event('input')); } } });
            budgetBtns.forEach(btn => btn.addEventListener('click', () => {
                budgetBtns.forEach(b => b.classList.remove('btn-active')); btn.classList.add('btn-active'); state.system = btn.dataset.system;
                explanationContents.forEach(content => content.classList.toggle('hidden', content.dataset.system !== state.system));
                calculateAndDisplay();
            }));

            initializeChart(); calculateAndDisplay();
        });
    </script>
</body>
</html>
