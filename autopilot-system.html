<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Autopilot Machine | System Installation</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'JetBrains Mono', monospace; background-color: #0a0a0a; color: #e5e5e5; }
        .terminal-box { border: 1px solid #333; background: #111; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5); }
        .accent-green { color: #22c55e; }
        .bg-accent-green { background-color: #22c55e; }
        .terminal-input { background: #000; border: 1px solid #333; color: #fff; }
        .terminal-input:focus { outline: none; border-color: #22c55e; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #22c55e; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- CONFIG & LINKS ---
        const CONFIG = {
            LINKS: {
                SOFI: "https://www.sofi.com/",
                FIDELITY: "https://www.fidelity.com/",
            },
            ETF_DATA: {
                CONSERVATIVE: {
                    STABILITY: { ticker: "BND", name: "Vanguard Total Bond Market", return: "4-5%", desc: "Maximum stability. Preserves capital while generating income." },
                    GROWTH: { ticker: "SCHD", name: "Schwab US Dividend Equity", return: "8-10%", desc: "High quality companies with growing dividends." }
                },
                MODERATE: {
                    STABILITY: { ticker: "VT", name: "Vanguard Total World Stock", return: "8-9%", desc: "Own the entire world economy. Maximum diversification." },
                    GROWTH: { ticker: "VTI", name: "Vanguard Total Stock Market", return: "10%", desc: "The standard for wealth building. Own every US public company." }
                },
                AGGRESSIVE: {
                    GROWTH: { ticker: "QQQM", name: "Invesco NASDAQ 100", return: "12-14%", desc: "Top 100 non-financial companies. Heavy on innovation." },
                    TECH: { ticker: "VGT", name: "Vanguard Info Tech", return: "15%+", desc: "Pure technology sector play. High volatility, high reward." }
                }
            }
        };

        // --- COMPONENTS ---

        function App() {
            // State
            const [module, setModule] = useState(0);
            const [userData, setUserData] = useState({
                income: 3500,
                payFreq: "Bi-weekly",
                freedomNumber: null,
                source: null, 
                etfChoice: null,
                checklist: {
                    sofiCheck: false,
                    sofiSave: false,
                    roth: false,
                    split: false,
                    autoInvest: false
                }
            });

            // Load/Save Logic
            useEffect(() => {
                const saved = localStorage.getItem("autopilot_system_data");
                if (saved) {
                    setUserData(JSON.parse(saved));
                }
                
                // Parse URL Params for "Bridge" Module
                const params = new URLSearchParams(window.location.search);
                const fNum = params.get('freedom_num');
                const source = params.get('source');
                
                if (source) {
                    setUserData(prev => ({ ...prev, source: source }));
                }
                if (fNum) {
                    setUserData(prev => ({ ...prev, freedomNumber: fNum }));
                }
            }, []);

            useEffect(() => {
                localStorage.setItem("autopilot_system_data", JSON.stringify(userData));
            }, [userData]);

            // Helper to update specific user data
            const updateData = (key, value) => {
                setUserData(prev => ({ ...prev, [key]: value }));
            };

            const toggleCheck = (key) => {
                setUserData(prev => ({
                    ...prev,
                    checklist: { ...prev.checklist, [key]: !prev.checklist[key] }
                }));
            };

            // Module Rendering Logic
            const renderModule = () => {
                switch(module) {
                    case 0: return <ModuleBridge userData={userData} next={() => setModule(1)} />;
                    case 1: return <ModuleCalibrator userData={userData} updateData={updateData} next={() => setModule(2)} />;
                    case 2: return <ModuleSetup userData={userData} toggleCheck={toggleCheck} next={() => setModule(3)} />;
                    case 3: return <ModuleAutomation userData={userData} toggleCheck={toggleCheck} next={() => setModule(4)} />;
                    case 4: return <ModuleSelector userData={userData} updateData={updateData} toggleCheck={toggleCheck} next={() => setModule(5)} />;
                    case 5: return <ModuleProjection userData={userData} next={() => setModule(6)} />;
                    case 6: return <ModuleCertificate userData={userData} />;
                    default: return <ModuleBridge userData={userData} next={() => setModule(1)} />;
                }
            };

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden">
                    
                    {/* Header / Progress */}
                    <div className="w-full max-w-2xl mb-8 flex justify-between items-end border-b border-gray-800 pb-2">
                        <div>
                            <h1 className="text-xl font-bold tracking-tighter text-white">THE AUTOPILOT MACHINE</h1>
                            <p className="text-xs text-gray-500">SYSTEM STATUS: <span className="text-green-500 animate-pulse">ONLINE</span></p>
                        </div>
                        <div className="text-right">
                            <p className="text-xs text-gray-400">MODULE {module + 1}/7</p>
                            <div className="w-32 h-1 bg-gray-800 mt-1">
                                <div className="h-full bg-green-500 transition-all duration-500" style={{ width: `${((module + 1) / 7) * 100}%` }}></div>
                            </div>
                        </div>
                    </div>

                    {/* Main Content Area */}
                    <div className="w-full max-w-2xl min-h-[500px] transition-all duration-300">
                        {renderModule()}
                    </div>

                    {/* Footer Nav */}
                    <div className="w-full max-w-2xl mt-8 flex justify-between text-xs text-gray-600">
                        <button onClick={() => setModule(m => Math.max(0, m - 1))} className={`hover:text-white ${module === 0 ? 'invisible' : ''}`}>[ ← BACK ]</button>
                        <span>SECURE CONNECTION</span>
                    </div>
                </div>
            );
        }

        // --- MODULE 1: THE BRIDGE (MOBILE FIXED) ---
        function ModuleBridge({ userData, next }) {
            return (
                <div className="terminal-box p-8 rounded-sm animate-fade-in">
                    <div className="text-center space-y-6">
                        
                        {/* RESPONSIVE CSS HEADER BOX */}
                        <div className="mb-8 relative py-4 px-2 mx-auto max-w-xs sm:max-w-md">
                            {/* Decorative Corners */}
                            <div className="absolute top-0 left-0 w-3 h-3 border-t border-l border-green-500"></div>
                            <div className="absolute top-0 right-0 w-3 h-3 border-t border-r border-green-500"></div>
                            <div className="absolute bottom-0 left-0 w-3 h-3 border-b border-l border-green-500"></div>
                            <div className="absolute bottom-0 right-0 w-3 h-3 border-b border-r border-green-500"></div>
                            
                            <div className="text-green-500 font-mono text-center">
                                <p className="text-[10px] sm:text-xs tracking-[0.2em] mb-1 opacity-80 uppercase">Welcome to the</p>
                                <p className="text-lg sm:text-xl font-bold tracking-widest uppercase">Architecture</p>
                            </div>
                        </div>
                        
                        {userData.freedomNumber ? (
                            <div className="space-y-2">
                                <p className="text-gray-400">TARGET ACQUIRED FROM CALCULATOR</p>
                                <h2 className="text-4xl font-bold text-white">${Number(userData.freedomNumber).toLocaleString()}</h2>
                                <p className="text-sm text-gray-400">This is your destination.</p>
                            </div>
                        ) : (
                            <div className="space-y-2">
                                <h2 className="text-3xl font-bold text-white">BUILD THE MACHINE</h2>
                                <p className="text-gray-400">Willpower is for losers. Systems are for winners.</p>
                            </div>
                        )}

                        <div className="border-t border-gray-800 my-6 pt-6 text-left text-sm text-gray-300 space-y-2">
                            <p>> Initializing financial operating system...</p>
                            <p>> Checking income streams... <span className="text-green-500">READY</span></p>
                            <p>> Loading asset allocation protocols... <span className="text-green-500">READY</span></p>
                        </div>

                        <button onClick={next} className="w-full py-4 bg-green-600 hover:bg-green-500 text-black font-bold text-lg rounded-sm transition-colors">
                            [ START BUILDING → ]
                        </button>
                    </div>
                </div>
            );
        }

        // --- MODULE 2: CALIBRATOR ---
        function ModuleCalibrator({ userData, updateData, next }) {
            const monthly = userData.income;
            const needs = monthly * 0.7;
            const invest = monthly * 0.2;
            const save = monthly * 0.1;

            return (
                <div className="terminal-box p-8 rounded-sm">
                    <h2 className="text-xl font-bold mb-6 text-white border-b border-gray-800 pb-2">CALIBRATE YOUR MACHINE</h2>
                    
                    <div className="grid gap-6 mb-8">
                        <div>
                            <label className="block text-xs text-gray-500 mb-1">MONTHLY INCOME (AFTER TAXES)</label>
                            <div className="flex items-center">
                                <span className="text-xl mr-2 text-gray-400">$</span>
                                <input 
                                    type="number" 
                                    value={userData.income} 
                                    onChange={(e) => updateData('income', Number(e.target.value))}
                                    className="terminal-input w-full p-3 text-lg font-bold"
                                />
                            </div>
                        </div>

                        <div>
                            <label className="block text-xs text-gray-500 mb-1">PAY FREQUENCY</label>
                            <select 
                                value={userData.payFreq} 
                                onChange={(e) => updateData('payFreq', e.target.value)}
                                className="terminal-input w-full p-3"
                            >
                                <option>Weekly</option>
                                <option>Bi-weekly</option>
                                <option>Monthly</option>
                            </select>
                        </div>
                    </div>

                    <div className="bg-gray-900 p-4 rounded border border-gray-800 space-y-4 mb-8">
                        <div>
                            <div className="flex justify-between text-sm mb-1">
                                <span className="text-white">70% SPENDING</span>
                                <span className="text-green-400">${needs.toFixed(0)}/mo</span>
                            </div>
                            <div className="h-2 bg-gray-800 rounded"><div className="h-full bg-gray-500 w-[70%] rounded"></div></div>
                        </div>
                        <div>
                            <div className="flex justify-between text-sm mb-1">
                                <span className="text-white font-bold">20% INVESTING (THE ENGINE)</span>
                                <span className="text-green-400 font-bold">${invest.toFixed(0)}/mo</span>
                            </div>
                            <div className="h-2 bg-gray-800 rounded"><div className="h-full bg-green-500 w-[20%] rounded"></div></div>
                        </div>
                        <div>
                            <div className="flex justify-between text-sm mb-1">
                                <span className="text-white">10% SAFETY NET</span>
                                <span className="text-green-400">${save.toFixed(0)}/mo</span>
                            </div>
                            <div className="h-2 bg-gray-800 rounded"><div className="h-full bg-blue-500 w-[10%] rounded"></div></div>
                        </div>
                    </div>

                    <button onClick={next} className="w-full py-3 border border-green-600 text-green-500 hover:bg-green-900/20 font-bold uppercase transition-colors">
                        [ Lock In These Numbers ]
                    </button>
                </div>
            );
        }

        // --- MODULE 3: ACCOUNT SETUP ---
        function ModuleSetup({ userData, toggleCheck, next }) {
            const investAmount = (userData.income * 0.2).toFixed(0);
            
            const AccountCard = ({ title, purpose, link, id, checked }) => (
                <div className={`p-4 border ${checked ? 'border-green-600 bg-green-900/10' : 'border-gray-700 bg-gray-900'} mb-4 transition-all`}>
                    <div className="flex justify-between items-start">
                        <div>
                            <h3 className="font-bold text-white">{title}</h3>
                            <p className="text-xs text-gray-400 mb-2">{purpose}</p>
                        </div>
                        <input 
                            type="checkbox" 
                            checked={checked} 
                            onChange={() => toggleCheck(id)}
                            className="w-5 h-5 accent-green-500 cursor-pointer"
                        />
                    </div>
                    <a href={link} target="_blank" className="text-xs text-green-400 hover:text-green-300 underline mt-2 inline-block">
                        [ OPEN ACCOUNT → ]
                    </a>
                </div>
            );

            return (
                <div className="terminal-box p-8 rounded-sm">
                    <h2 className="text-xl font-bold mb-2 text-white">BUILD YOUR INFRASTRUCTURE</h2>
                    <p className="text-sm text-gray-400 mb-6">Open these 3 accounts. This is your foundation.</p>

                    <AccountCard 
                        title="1. SoFi Checking" 
                        purpose="The Hub. Money enters here. (70% stays)." 
                        link={CONFIG.LINKS.SOFI}
                        id="sofiCheck" 
                        checked={userData.checklist.sofiCheck}
                    />
                    <AccountCard 
                        title="2. SoFi High-Yield Savings" 
                        purpose={`The Safety Net. Auto-transfer $${(userData.income*0.1).toFixed(0)}/mo here.`}
                        link={CONFIG.LINKS.SOFI}
                        id="sofiSave" 
                        checked={userData.checklist.sofiSave}
                    />
                    <AccountCard 
                        title="3. Fidelity Roth IRA" 
                        purpose={`The Engine. Tax-free growth. Invest $${investAmount}/mo here.`}
                        link={CONFIG.LINKS.FIDELITY}
                        id="roth" 
                        checked={userData.checklist.roth}
                    />

                    <div className="mt-6 flex justify-between items-center">
                         <span className="text-xs text-gray-500">
                             COMPLETED: {Object.values(userData.checklist).slice(0,3).filter(Boolean).length}/3
                         </span>
                         <button onClick={next} className="px-6 py-2 bg-white text-black font-bold text-sm hover:bg-gray-200">
                             NEXT STEP →
                         </button>
                    </div>
                </div>
            );
        }

        // --- MODULE 4: AUTOMATION ---
        function ModuleAutomation({ userData, toggleCheck, next }) {
            const [method, setMethod] = useState(null); // 'split' or 'manual'

            return (
                <div className="terminal-box p-8 rounded-sm">
                    <h2 className="text-xl font-bold mb-4 text-white">WIRE THE AUTOMATION</h2>
                    <p className="text-sm text-gray-400 mb-6">Does your employer allow Direct Deposit Splits?</p>

                    <div className="grid grid-cols-2 gap-4 mb-8">
                        <button 
                            onClick={() => setMethod('split')}
                            className={`p-4 border ${method === 'split' ? 'border-green-500 text-green-400' : 'border-gray-700 text-gray-400'} hover:border-green-500`}
                        >
                            YES<br/><span className="text-xs">Direct from Paycheck</span>
                        </button>
                        <button 
                            onClick={() => setMethod('manual')}
                            className={`p-4 border ${method === 'manual' ? 'border-green-500 text-green-400' : 'border-gray-700 text-gray-400'} hover:border-green-500`}
                        >
                            NO<br/><span className="text-xs">Bank Transfers</span>
                        </button>
                    </div>

                    {method === 'split' && (
                        <div className="bg-gray-900 p-4 border-l-2 border-green-500 text-sm space-y-3 mb-6 animate-fade-in">
                            <p className="font-bold text-white">Instructions:</p>
                            <ol className="list-decimal pl-4 space-y-2 text-gray-300">
                                <li>Log into HR Portal (ADP, Workday, etc).</li>
                                <li>Go to "Direct Deposit".</li>
                                <li>Add Account 1: <strong>Fidelity Roth IRA</strong> (Set to ${(userData.income*0.2).toFixed(0)} fixed amount).</li>
                                <li>Add Account 2: <strong>SoFi Savings</strong> (Set to ${(userData.income*0.1).toFixed(0)} fixed amount).</li>
                                <li>Remainder: <strong>SoFi Checking</strong> (Balance).</li>
                            </ol>
                        </div>
                    )}

                    {method === 'manual' && (
                        <div className="bg-gray-900 p-4 border-l-2 border-green-500 text-sm space-y-3 mb-6 animate-fade-in">
                            <p className="font-bold text-white">Instructions:</p>
                            <ol className="list-decimal pl-4 space-y-2 text-gray-300">
                                <li>Log into your main Checking Account.</li>
                                <li>Set up "Recurring Transfer".</li>
                                <li>To Fidelity Roth IRA: <strong>${(userData.income*0.2).toFixed(0)}</strong> / month.</li>
                                <li>To SoFi Savings: <strong>${(userData.income*0.1).toFixed(0)}</strong> / month.</li>
                                <li>Set date for 1 day after payday.</li>
                            </ol>
                        </div>
                    )}

                    <div className="flex items-center space-x-3 mb-6">
                         <input 
                            type="checkbox" 
                            id="splitDone"
                            checked={userData.checklist.split} 
                            onChange={() => toggleCheck('split')}
                            className="w-5 h-5 accent-green-500"
                        />
                        <label htmlFor="splitDone" className="text-sm text-gray-300">I have configured the money flow.</label>
                    </div>

                    <button 
                        onClick={next} 
                        disabled={!userData.checklist.split}
                        className={`w-full py-3 font-bold uppercase ${userData.checklist.split ? 'bg-green-600 text-black hover:bg-green-500' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}
                    >
                        [ Confirm & Continue ]
                    </button>
                </div>
            );
        }

        // --- MODULE 5: SELECTOR (The Quiz) ---
        function ModuleSelector({ userData, updateData, toggleCheck, next }) {
            const [step, setStep] = useState(0); // 0=Risk, 1=Priority, 2=Result
            const [answers, setAnswers] = useState({ risk: '', priority: '' });

            // ETF Logic Map
            const getRecommendation = () => {
                const { risk, priority } = answers;
                if (risk === 'Conservative') {
                    if (priority === 'Dividends') return CONFIG.ETF_DATA.CONSERVATIVE.GROWTH;
                    return CONFIG.ETF_DATA.CONSERVATIVE.STABILITY; // Default for Cons
                }
                if (risk === 'Moderate') {
                    if (priority === 'Growth') return CONFIG.ETF_DATA.MODERATE.GROWTH;
                    return CONFIG.ETF_DATA.MODERATE.STABILITY; 
                }
                if (risk === 'Aggressive') {
                    if (priority === 'Tech') return CONFIG.ETF_DATA.AGGRESSIVE.TECH;
                    return CONFIG.ETF_DATA.AGGRESSIVE.GROWTH; // Default for Aggr
                }
                return CONFIG.ETF_DATA.MODERATE.GROWTH; // Fallback
            };

            const result = getRecommendation();

            const handleRisk = (val) => {
                setAnswers({...answers, risk: val});
                setStep(1);
            };

            const handlePriority = (val) => {
                const newAnswers = {...answers, priority: val};
                setAnswers(newAnswers);
                setStep(2);
                updateData('etfChoice', getRecommendation()); // Save the result
            };

            if (step === 0) return (
                <div className="terminal-box p-8 rounded-sm text-center">
                    <h2 className="text-xl font-bold mb-6 text-white">CHOOSE YOUR FUEL</h2>
                    <p className="mb-6 text-gray-400">What is your risk tolerance?</p>
                    <div className="space-y-3">
                        <button onClick={() => handleRisk('Conservative')} className="w-full p-4 border border-gray-700 hover:border-green-500 hover:bg-green-900/10 text-left">
                            <span className="block font-bold text-white">CONSERVATIVE</span>
                            <span className="text-xs text-gray-500">I hate losing money. Slow & steady.</span>
                        </button>
                        <button onClick={() => handleRisk('Moderate')} className="w-full p-4 border border-gray-700 hover:border-green-500 hover:bg-green-900/10 text-left">
                            <span className="block font-bold text-white">MODERATE</span>
                            <span className="text-xs text-gray-500">I want standard market growth.</span>
                        </button>
                        <button onClick={() => handleRisk('Aggressive')} className="w-full p-4 border border-gray-700 hover:border-green-500 hover:bg-green-900/10 text-left">
                            <span className="block font-bold text-white">AGGRESSIVE</span>
                            <span className="text-xs text-gray-500">I want maximum growth. I can handle dips.</span>
                        </button>
                    </div>
                </div>
            );

            if (step === 1) return (
                <div className="terminal-box p-8 rounded-sm text-center">
                    <h2 className="text-xl font-bold mb-6 text-white">PRIORITY</h2>
                    <p className="mb-6 text-gray-400">What matters most?</p>
                    <div className="grid grid-cols-2 gap-4">
                        {answers.risk === 'Conservative' && (
                            <>
                            <button onClick={() => handlePriority('Stability')} className="p-4 border border-gray-700 hover:border-green-500">Stability</button>
                            <button onClick={() => handlePriority('Dividends')} className="p-4 border border-gray-700 hover:border-green-500">Dividends</button>
                            </>
                        )}
                        {answers.risk === 'Moderate' && (
                            <>
                            <button onClick={() => handlePriority('Stability')} className="p-4 border border-gray-700 hover:border-green-500">Balance</button>
                            <button onClick={() => handlePriority('Growth')} className="p-4 border border-gray-700 hover:border-green-500">Growth</button>
                            </>
                        )}
                        {answers.risk === 'Aggressive' && (
                            <>
                            <button onClick={() => handlePriority('Growth')} className="p-4 border border-gray-700 hover:border-green-500">Market Growth</button>
                            <button onClick={() => handlePriority('Tech')} className="p-4 border border-gray-700 hover:border-green-500">Tech Sector</button>
                            </>
                        )}
                    </div>
                </div>
            );

            return (
                <div className="terminal-box p-8 rounded-sm">
                    <h2 className="text-xl font-bold mb-2 text-white">YOUR GENERATOR</h2>
                    <p className="text-sm text-gray-400 mb-6">Based on your profile, your money should buy:</p>

                    <div className="border border-green-500 bg-green-900/10 p-6 mb-6 text-center">
                        <h3 className="text-4xl font-bold text-white mb-2">{result.ticker}</h3>
                        <p className="text-green-400 font-bold mb-4">{result.name}</p>
                        <p className="text-sm text-gray-300 mb-2">{result.desc}</p>
                        <p className="text-xs text-gray-500">Hist. Return: {result.return}</p>
                    </div>

                    <div className="bg-gray-900 p-4 mb-6">
                         <p className="text-sm text-white font-bold mb-2">FINAL STEP:</p>
                         <p className="text-xs text-gray-400 mb-4">Log into your Fidelity Roth IRA and set up "Automatic Investment" to buy <strong>{result.ticker}</strong> with the cash that transfers in.</p>
                         <div className="flex items-center space-x-3">
                             <input 
                                type="checkbox" 
                                id="investDone"
                                checked={userData.checklist.autoInvest} 
                                onChange={() => toggleCheck('autoInvest')}
                                className="w-5 h-5 accent-green-500"
                            />
                            <label htmlFor="investDone" className="text-sm text-gray-300">I have set the machine to buy {result.ticker}.</label>
                        </div>
                    </div>

                    <button 
                        onClick={next} 
                        disabled={!userData.checklist.autoInvest}
                        className={`w-full py-3 font-bold uppercase ${userData.checklist.autoInvest ? 'bg-green-600 text-black hover:bg-green-500' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}
                    >
                        [ ACTIVATE MACHINE ]
                    </button>
                </div>
            );
        }

        // --- MODULE 6: PROJECTION ---
        function ModuleProjection({ userData, next }) {
            const monthlyInvest = userData.income * 0.2;
            const rate = 0.10; // Avg 10%
            
            // Simple FV Calc: FV = P * (((1+r)^n - 1) / r)
            const calculateWealth = (years) => {
                const r = rate / 12;
                const n = years * 12;
                return monthlyInvest * ((Math.pow(1 + r, n) - 1) / r);
            };

            const y10 = calculateWealth(10);
            const y20 = calculateWealth(20);
            const y30 = calculateWealth(30);

            return (
                <div className="terminal-box p-8 rounded-sm">
                    <div className="text-center mb-6">
                        <h2 className="text-2xl font-bold text-white mb-1">SYSTEM ONLINE</h2>
                        <p className="text-green-500 text-sm animate-pulse">● WEALTH GENERATION ACTIVE</p>
                    </div>

                    <div className="space-y-6 mb-8">
                        <div>
                            <div className="flex justify-between text-xs text-gray-400 mb-1">
                                <span>YEAR 10</span>
                                <span>${y10.toLocaleString(undefined, {maximumFractionDigits:0})}</span>
                            </div>
                            <div className="h-2 bg-gray-800 w-full"><div className="h-full bg-green-700 w-[20%]"></div></div>
                        </div>
                        <div>
                            <div className="flex justify-between text-xs text-gray-400 mb-1">
                                <span>YEAR 20</span>
                                <span>${y20.toLocaleString(undefined, {maximumFractionDigits:0})}</span>
                            </div>
                            <div className="h-2 bg-gray-800 w-full"><div className="h-full bg-green-600 w-[50%]"></div></div>
                        </div>
                        <div>
                            <div className="flex justify-between text-xs text-gray-400 mb-1">
                                <span>YEAR 30</span>
                                <span className="text-white font-bold">${y30.toLocaleString(undefined, {maximumFractionDigits:0})}</span>
                            </div>
                            <div className="h-2 bg-gray-800 w-full"><div className="h-full bg-green-500 w-full"></div></div>
                        </div>
                    </div>

                    <div className="bg-gray-900 border border-gray-800 p-4 text-center mb-6">
                        <p className="text-gray-400 text-xs uppercase">Your Monthly Fuel</p>
                        <p className="text-2xl font-bold text-white">${monthlyInvest.toFixed(0)}</p>
                        <p className="text-gray-500 text-[10px]">invested automatically into {userData.etfChoice?.ticker || "VTI"}</p>
                    </div>

                    <button onClick={next} className="w-full py-3 bg-white text-black font-bold uppercase hover:bg-gray-200">
                        [ VIEW CERTIFICATE ]
                    </button>
                </div>
            );
        }

        // --- MODULE 7: CERTIFICATE (SIMPLIFIED) ---
        function ModuleCertificate({ userData }) {
            return (
                <div className="terminal-box p-8 rounded-sm text-center border-t-4 border-green-500">
                    <div className="mb-6">
                        <h2 className="text-3xl font-bold text-white mb-2">MACHINE BUILT</h2>
                        <p className="text-green-500 font-mono">STATUS: OPERATIONAL</p>
                    </div>

                    <div className="text-left bg-gray-900 p-6 font-mono text-sm space-y-2 mb-8 border border-gray-800">
                        <p className="text-gray-400">[X] ACCOUNTS ............ <span className="text-green-400">LINKED</span></p>
                        <p className="text-gray-400">[X] CASH FLOW ........... <span className="text-green-400">AUTOMATED</span></p>
                        <p className="text-gray-400">[X] INVESTMENT .......... <span className="text-green-400">RUNNING ({userData.etfChoice?.ticker})</span></p>
                        <p className="text-gray-400">[X] WILLPOWER ........... <span className="text-green-400">REMOVED</span></p>
                    </div>

                    <p className="text-sm text-gray-300">
                        You have successfully installed the system. Your money is now working harder than you are.
                    </p>
                </div>
            );
        }

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
